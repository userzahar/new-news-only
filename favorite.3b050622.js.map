{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAIA,SAASC,EAAgBC,EAASC,GAChCD,EAAQE,mBAAmB,YAAaD,E,CAG1C,SAASE,EAAaC,G,IAAEC,EAAFD,EAAEC,MAAOC,EAATF,EAASE,IAAKC,EAAdH,EAAcG,YAAaC,EAA3BJ,EAA2BI,OAAQC,EAAnCL,EAAmCK,SAAUC,EAA7CN,EAA6CM,KACjE,MAAO,+IAGwCC,OADyBF,EAAS,yDAWjCE,OAVDL,EAAI,goBAWNK,OADGN,EAAM,wDAGFM,OAFPJ,EAAY,2HAGxBI,OADmBD,EAAK,8CACjBC,OAAPH,EAAO,8J,CAM1CI,EAAAC,wBAAwBC,KAAI,SAAAC,GAC1BhB,EAAgBF,EAAAmB,KAAKC,YAAad,EAAaY,G;;AAIjDlB,EAAAmB,KAAKC,YAAYC,iBAAiB,SAOlC,SAA6BC,GAC3B,IAAMC,EAAYD,EAAEE,OAAOC,QAAS,wBAC9BC,EAASH,EAAUI,WAAWC,WAAW,GAC/CC,QAAQC,MAER,IAAMtB,EACJe,EAAUI,WAAWA,WAAWA,WAAWC,WAAW,GAAGG,YAE3D,IAAKR,EAAW,OAChB,IAAKR,EAAAC,wBAAyB,OAEzBO,EAAUS,UAAUC,SAAS,eAChCV,EAAUS,UAAUE,IAAI,aACxBR,EAAOM,UAAUG,OAAO,cAG1B,IAAMC,EAAsBrB,EAAAC,wBAAwBqB,WAClD,SAAAC,G,OAAKA,EAAE9B,QAAUA,C,IAGnBqB,QAAQC,IAAItB,EAAO4B,GAGnBrB,EAAAC,wBAAwBuB,OAAOH,EAAqB,GAEpDI,aAAaC,QACX,gBACAC,KAAKC,UAAU5B,EAAAC,0BAGjBhB,EAAAmB,KAAKC,YAAYwB,UAAY,GAE7B7B,EAAAC,wBAAwBC,KAAI,SAAAC,GAC1BhB,EAAgBF,EAAAmB,KAAKC,YAAad,EAAaY,G,OAvCnDW,QAAQC,IAAIf,EAAAC,yBAEoB,OAA5BD,EAAAC,yBAAoCD,EAAAC,0BAA4B,IAClEa,QAAQC,IAAI,Q","sources":["src/favorite.js"],"sourcesContent":["import { refs } from './js/refs';\nimport { favoritesInLocalStorage } from './js/localStorageFavorite';\n// console.log(favoritesInLocalStorage);\n\nfunction renderFavorites(element, constMarkup) {\n  element.insertAdjacentHTML('beforeend', constMarkup);\n}\n\nfunction createMarkup({ title, img, description, source, category, date }) {\n  return `<li class=\"gallery__item\">\n    <article class=\"gallery__article\">\n              <div class=\"gallery__thumb\"> <p class=\"gallery__category\">${category}</p>\n                <img class=\"gallery__img\" src=\"${img}\" alt=\"\"/>\n                 <button type=\"button\" class=\"gallery__favorite__btn \">\n                         <span class=\"favorite__btn-span add-favorite-btn is-hidden\">Add to favorite\n                           <svg width='16' height='16'><use href=\"}\"></use>\n                    </svg> </span>\n                    <span class=\"favorite__btn-span remove-favorite-btn\">Remove from favorite\n                                    <svg width='16' height='16'><use href=\"\"></use>\n                    </svg></span>\n                          </button>\n                    </div>\n                    <h3 class=\"gallery__header\">${title}</h3>\n                    <p class=\"gallery__text\">${description}</p>\n                    <div class=\"gallery__item-bottom_wrap\">\n                        <span class=\"gallery__date\">${date}</span>\n                        <a href=\"${source}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"gallery__link\">Read more</a>\n                    </div>\n                </article>\n             </li>`;\n}\n\nfavoritesInLocalStorage.map(el => {\n  renderFavorites(refs.galleryList, createMarkup(el));\n});\n\n//!!!!Remove favorite\nrefs.galleryList.addEventListener('click', onRemoveFavoriteBtn);\nconsole.log(favoritesInLocalStorage);\n\nif (favoritesInLocalStorage === null || favoritesInLocalStorage === []) {\n  console.log('error');\n}\n\nfunction onRemoveFavoriteBtn(e) {\n  const removeBtn = e.target.closest(`.remove-favorite-btn`);\n  const addBtn = removeBtn.parentNode.childNodes[1];\n  console.log();\n\n  const title =\n    removeBtn.parentNode.parentNode.parentNode.childNodes[3].textContent;\n\n  if (!removeBtn) return;\n  if (!favoritesInLocalStorage) return;\n\n  if (!removeBtn.classList.contains('is-hidden')) {\n    removeBtn.classList.add('is-hidden');\n    addBtn.classList.remove('is-hidden');\n  }\n\n  const indexInLocalStorage = favoritesInLocalStorage.findIndex(\n    e => e.title === title\n  );\n\n  console.log(title, indexInLocalStorage);\n\n  // localStorage.removeItem('favoriteNews');\n  favoritesInLocalStorage.splice(indexInLocalStorage, 1);\n\n  localStorage.setItem(\n    'favoritesNews',\n    JSON.stringify(favoritesInLocalStorage)\n  );\n\n  refs.galleryList.innerHTML = '';\n\n  favoritesInLocalStorage.map(el => {\n    renderFavorites(refs.galleryList, createMarkup(el));\n  });\n}\n"],"names":["$4Nugj","parcelRequire","$19661b0c25203147$var$renderFavorites","element","constMarkup","insertAdjacentHTML","$19661b0c25203147$var$createMarkup","param","title","img","description","source","category","date","concat","$eM8IA","favoritesInLocalStorage","map","el","refs","galleryList","addEventListener","e1","removeBtn","target","closest","addBtn","parentNode","childNodes","console","log","textContent","classList","contains","add","remove","indexInLocalStorage","findIndex","e","splice","localStorage","setItem","JSON","stringify","innerHTML"],"version":3,"file":"favorite.3b050622.js.map"}